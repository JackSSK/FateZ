Search.setIndex({"docnames": ["api", "examples", "generated/fatez.Launch", "generated/fatez.model.transformer.Encoder", "generated/fatez.test.Faker", "index", "notebooks/bin_number_tuning", "notebooks/clustering", "notebooks/explain", "notebooks/pertubation"], "filenames": ["api.rst", "examples.rst", "generated/fatez.Launch.rst", "generated/fatez.model.transformer.Encoder.rst", "generated/fatez.test.Faker.rst", "index.rst", "notebooks/bin_number_tuning.ipynb", "notebooks/clustering.ipynb", "notebooks/explain.ipynb", "notebooks/pertubation.ipynb"], "titles": ["API Reference", "Examples", "fatez.Launch", "fatez.model.transformer.Encoder", "fatez.test.Faker", "Welcome to the documentation Page!", "You need a title here", "FateZ Clustering", "FateZ Explain", "FateZ Multiomic Pertubation Effect Prediction(?)"], "terms": {"thi": [0, 5, 7, 8, 9], "page": 0, "contain": 0, "public": 0, "object": [0, 2], "function": 0, "fatez": [0, 1, 5, 6], "There": 0, "ar": [0, 1, 8], "also": [0, 9], "exampl": [0, 5], "avail": [0, 8], "demonstr": [0, 7, 8, 9], "how": [0, 7, 8, 9], "us": [0, 3], "each": [0, 8, 9], "here": [1, 2, 5, 8, 9], "some": [1, 5], "gener": [1, 2, 8, 9], "usag": [1, 2], "appli": 1, "differ": 1, "task": 1, "you": [1, 5], "need": [1, 5, 9], "titl": [1, 5], "cluster": [1, 5], "explain": [1, 5, 7], "multiom": [1, 5], "pertub": [1, 5], "effect": [1, 5], "predict": [1, 5, 6], "class": [2, 3, 4], "path": 2, "option": [2, 4], "str": [2, 3, 4], "none": [2, 4, 9], "thread_num": 2, "int": [2, 3, 4, 7], "1": [2, 6, 7, 8, 9], "kwarg": [2, 3], "guess": 2, "we": 2, "have": 2, "one": 2, "line": 2, "attribut": [2, 3], "self": 2, "dataset": [2, 8, 9], "__init__": [2, 3, 4], "paramet": [2, 8, 9], "default": [2, 4], "comment": 2, "like": 2, "number": [2, 3], "thread": 2, "multithread": 2, "By": 2, "method": [2, 3, 4, 7, 8, 9], "d_model": [3, 8], "512": 3, "n_layer": 3, "6": [3, 6, 7, 8, 9], "nhead": 3, "8": [3, 7, 8], "dim_feedforward": 3, "2048": 3, "dropout": 3, "float": 3, "0": [3, 6, 7, 8, 9], "05": 3, "activ": [3, 5], "gelu": 3, "layer_norm_ep": 3, "1e": 3, "batch_first": 3, "bool": [3, 4], "true": [3, 7, 8, 9], "The": 3, "bert": [3, 7], "param": [3, 8, 9], "expect": 3, "featur": 3, "input": [3, 8, 9], "layer": [3, 9], "head": 3, "multi": 3, "attent": 3, "dimens": 3, "feedforward": 3, "network": 3, "ratio": [3, 7], "note": [3, 9], "origin": 3, "instead": 3, "relu": 3, "ep": [3, 7], "valu": 3, "normal": 3, "compon": 3, "whether": 3, "batch": [3, 8, 9], "size": [3, 8, 9], "first": 3, "el": [3, 7, 9], "dim": [3, 8, 9], "warning_filt": 4, "model_config": [4, 8, 9], "dict": 4, "n_sampl": [4, 8, 9], "10": [4, 8, 9], "batch_siz": [4, 7, 8, 9], "5": [4, 7, 8, 9], "simpler_sampl": 4, "fals": [4, 8, 9], "devic": [4, 8, 9], "cpu": 4, "dtype": [4, 8, 9], "type": [4, 8], "torch": [4, 7, 8, 9], "float32": [4, 8, 9], "modul": [4, 9], "fake": 4, "data": 4, "descript": 5, "project": 5, "under": 5, "develop": 5, "can": [5, 9], "clone": 5, "from": [5, 6, 7, 8, 9], "github": 5, "git": 5, "http": 5, "com": 5, "jackssk": 5, "cd": 5, "pip": 5, "after": 5, "perform": 5, "carri": 5, "out": 5, "import": [5, 6, 7, 8, 9], "api": 5, "refer": 5, "action": 5, "model": 5, "re": 6, "panda": [6, 9], "pd": [6, 9], "sklearn": [6, 7], "model_select": 6, "metric": 6, "numpi": [6, 7], "np": [6, 7], "svm": 6, "pickl": 6, "os": [6, 7, 8, 9], "linear_model": 6, "logisticregress": 6, "ensembl": 6, "randomforestclassifi": 6, "dir1": 6, "bin3": 6, "list1": 6, "listdir": 6, "d": 6, "westlak": 6, "pwk": 6, "lab": 6, "pp_tune": 6, "svm_valu": 6, "lg_valu": 6, "rf_valu": 6, "i": [6, 9], "print": [6, 7, 8, 9], "df_use": 6, "read_tabl": 6, "index_col": 6, "3": [6, 7, 8, 9], "nmf": 6, "tabl": 6, "atac_svm": 6, "nmf_label": 6, "txt": 6, "elif": 6, "ors": 6, "ors_label": 6, "els": 6, "two_label": 6, "index": 6, "sampl": [6, 8, 9], "label": [6, 7, 9], "loc": 6, "column": [6, 9], "to_list": 6, "x_train": 6, "x_test": 6, "y_train": 6, "y_test": 6, "train_test_split": 6, "t": 6, "random_st": 6, "clf": 6, "svc": 6, "c": 6, "kernel": 6, "linear": 6, "gamma": 6, "20": [6, 8], "fit": 6, "train_scor": 6, "score": 6, "svm_score": 6, "42": 6, "multi_class": 6, "multinomi": 6, "y_pred": 6, "lg_accuraci": 6, "logstic": 6, "rf_classifi": 6, "n_estim": 6, "150": 6, "rf_accuraci": 6, "rf": 6, "append": [6, 9], "final": 6, "datafram": [6, 9], "lg": 6, "to_csv": 6, "csv": 6, "merge_index": 6, "other_index": 6, "rang": 6, "len": [6, 7, 8, 9], "search": 6, "merg": 6, "iloc": 6, "other": 6, "_merg": 6, "_atac": 6, "notebook": [7, 8, 9], "implement": [7, 9], "s": [7, 8, 9], "repres": 7, "util": [7, 8, 9], "dataload": [7, 8, 9], "pkg_resourc": [7, 8, 9], "resource_filenam": [7, 8, 9], "scanpi": 7, "sc": 7, "2": [7, 8, 9], "faker": [7, 8, 9], "testm": 7, "_": [7, 8, 9], "test_full_model": 7, "save": 7, "test_gat": 7, "ignor": 7, "gat": 7, "trainer": [7, 8, 9], "full": 7, "pre": 7, "green": 7, "fine": 7, "tuner": [7, 8, 9], "make_data_load": [7, 8, 9], "x": [7, 8, 9], "all_fea_mat": 7, "all_adj_mat": 7, "f": [7, 8], "n": [7, 8], "tolist": 7, "flatten": 7, "arrai": 7, "reshap": 7, "to_dens": 7, "pca": 7, "analysi": 7, "dimension": 7, "deduct": 7, "pca_analysi": 7, "pp": 7, "n_comp": 7, "9": [7, 8], "return_info": 7, "origin_pca": 7, "var_ratio": 7, "var": [7, 8], "23183194": 7, "19009876": 7, "16549532": 7, "12865475": 7, "10778842": 7, "08295161": 7, "04993934": 7, "02638779": 7, "01685206": 7, "made": 7, "get_encoder_output": 7, "encode_pca": 7, "rep": 7, "79227635e": 7, "01": 7, "91004990e": 7, "02": 7, "36150445e": 7, "03": 7, "87922273e": 7, "04": 7, "18413872e": 7, "40584645e": 7, "06": 7, "61693856e": 7, "42179989e": 7, "09": 7, "00000000e": 7, "00": 7, "7": [7, 8], "n_cluster": 7, "uniqu": 7, "min_sampl": 7, "dbscan": 7, "kmean": 7, "optic": 7, "labels_": 7, "astyp": 7, "explanatori": 8, "sy": [8, 9], "test": [8, 9], "tool": [8, 9], "json": [8, 9], "process": [8, 9], "fine_tun": [8, 9], "pre_train": [8, 9], "done": [8, 9], "18": 8, "load": [8, 9], "built": [8, 9], "config": [8, 9], "file": [8, 9], "decod": [8, 9], "__name__": [8, 9], "gat_bert_config": [8, 9], "factory_kwarg": 8, "cuda": [8, 9], "train_dataload": 8, "_adj": 8, "set": [8, 9], "NOT": 8, "reconstruct": [8, 9], "adjac": 8, "matric": 8, "etc": 8, "19": 8, "report": [8, 9], "report_batch": [8, 9], "loss": [8, 9], "523740": 8, "056911": 8, "464677": 8, "160961": 8, "4": 8, "769112": 8, "518550": 8, "565397": 8, "717235": 8, "797816": 8, "683969": 8, "225837": 8, "In": 8, "case": 8, "well": 8, "train_adj": 8, "895170": 8, "933711": 8, "200883": 8, "626011": 8, "680342": 8, "341890": 8, "156959": 8, "802052": 8, "489988": 8, "411124": 8, "153813": 8, "21": 8, "prev_model": [8, 9], "acc": 8, "493794": 8, "446725": 8, "043058": 8, "076692": 8, "044668": 8, "486640": 8, "019905": 8, "943047": 8, "482891": 8, "489378": 8, "752680": 8, "three": 8, "kind": 8, "explan": 8, "edge_explain": 8, "regulon_explain": 8, "node_explain": 8, "25": 8, "initi": 8, "edg": 8, "matrix": 8, "regulon": 8, "adj_exp": 8, "zero": 8, "input_s": [8, 9], "n_reg": [8, 9], "n_node": [8, 9], "reg_exp": 8, "encod": 8, "background": 8, "bg": 8, "through": 8, "take": [8, 9], "pseudo": 8, "make_explain": 8, "adj_temp": 8, "reg_temp": 8, "explain_batch": 8, "onli": [8, 9], "feat": 8, "mat": 8, "should": 8, "work": 8, "ha": 8, "shape": [8, 9], "exp": 8, "ab": 8, "break": 8, "sum": 8, "node_exp": 8, "matmul": 8, "reg": 8, "node": 8, "tensor": [8, 9], "0268": 8, "0269": 8, "0271": 8, "0245": 8, "0247": 8, "0253": [8, 9], "0252": 8, "0257": 8, "0000": 8, "0367": 8, "0328": 8, "0317": 8, "0301": 8, "0304": 8, "0290": 8, "0296": 8, "0320": 8, "0267": 8, "0273": 8, "0282": 8, "0250": 8, "0254": 8, "0285": 8, "0255": 8, "0266": 8, "0264": [8, 9], "0292": 8, "0260": 8, "0326": 8, "0275": 8, "0036": 8, "0017": 8, "0130": 8, "0060": 8, "float64": 8, "0007": 8, "0006": 8, "nn": 9, "lib": 9, "suppressor": 9, "quiet_mod": 9, "pertubation_dataload": 9, "result_dataload": 9, "id": 9, "k": 9, "enumer": 9, "y": 9, "modifi": 9, "base": 9, "16": 9, "net": 9, "use_devic": 9, "best_loss": 9, "99": 9, "loss_al": 9, "list": 9, "prepar": 9, "alwai": 9, "mute": 9, "debug": 9, "output": 9, "node_rec": 9, "adj_rec": 9, "off": 9, "seper": 9, "pleas": 9, "script": 9, "tf": 9, "To": 9, "whole": 9, "genom": 9, "certainli": 9, "add": 9, "an": 9, "additionali": 9, "do": 9, "job": 9, "node_result": 9, "split": 9, "stack": 9, "adj_result": 9, "get_dense_adj": 9, "edge_attr": 9, "get": 9, "total": 9, "criterion": 9, "backward": 9, "stuff": 9, "clip_grad_norm_": 9, "max_norm": 9, "optim": 9, "step": 9, "zero_grad": 9, "accumul": 9, "min": 9, "item": 9, "log": 9, "schedul": 9, "730115": 9, "anoth": 9, "previou": 9, "24": 9, "new": 9, "tuner_dataload": 9, "And": 9, "118923": 9, "block": 9, "abov": 9, "27": 9, "1218": 9, "0319": 9, "2913": 9, "8462": 9, "1863": 9, "7708": 9, "0997": 9, "1563": 9, "1467": 9, "0468": 9, "5391": 9, "9599": 9, "2706": 9, "8496": 9, "1051": 9, "39": 9, "grad_fn": 9, "lt": 9, "viewbackward0": 9, "gt": 9, "9759": 9, "7606": 9, "4116": 9, "1393": 9, "1631": 9, "3622": 9, "4710": 9, "3269": 9, "7119": 9, "0409": 9, "6905": 9, "9797": 9, "8428": 9, "2868": 9, "7114": 9, "6660": 9, "4230": 9, "2142": 9, "2275": 9, "2271": 9, "6833": 9, "9137": 9, "8117": 9, "2809": 9, "6595": 9, "6044": 9, "4215": 9, "2556": 9, "3990": 9, "1928": 9, "9935": 9, "8441": 9, "2341": 9, "0878": 9, "0140": 9, "4077": 9, "4854": 9, "4835": 9, "7113": 9, "1195": 9, "9530": 9, "6944": 9, "5049": 9, "1638": 9, "2525": 9, "3264": 9, "4590": 9, "2521": 9, "7332": 9, "9838": 9, "4754": 9, "8820": 9, "9961": 9, "3643": 9, "7589": 9, "7388": 9, "3493": 9, "1680": 9, "1010": 9, "6238": 9, "9135": 9, "9208": 9, "3226": 9, "7265": 9, "6430": 9, "4040": 9, "2958": 9, "2709": 9, "1820": 9, "9878": 9, "8093": 9, "3208": 9, "1136": 9, "0839": 9, "3893": 9, "4792": 9, "4036": 9, "7027": 9, "0849": 9, "1487": 9, "0513": 9, "0456": 9, "1958": 9, "3360": 9, "8989": 9, "3601": 9, "8877": 9, "1212": 9, "0307": 9, "1160": 9, "4204": 9, "3801": 9, "9280": 9, "3390": 9, "8809": 9, "9512": 9, "6900": 9, "5092": 9, "1648": 9, "2572": 9, "3240": 9, "4582": 9, "2492": 9, "7357": 9, "9802": 9, "9423": 9, "8446": 9, "2512": 9, "0880": 9, "0232": 9, "4611": 9, "4631": 9, "4557": 9, "0862": 9, "5498": 9, "8810": 9, "0078": 9, "3603": 9, "7641": 9, "6632": 9, "3809": 9, "3263": 9, "1690": 9, "1465": 9, "6390": 9, "9653": 9, "8957": 9, "3102": 9, "7371": 9, "6908": 9, "4059": 9, "2122": 9, "1156": 9, "2036": 9, "9756": 9, "7599": 9, "4138": 9, "1400": 9, "3620": 9, "4708": 9, "3243": 9, "7104": 9, "0400": 9, "9235": 9, "9534": 9, "0836": 9, "0172": 9, "2345": 9, "5428": 9, "4713": 9, "6325": 9, "4001": 9, "1870": 9, "8616": 9, "0555": 9, "3815": 9, "7841": 9, "6768": 9, "3664": 9, "3370": 9, "0988": 9, "1240": 9, "6477": 9, "9659": 9, "8952": 9, "3091": 9, "7370": 9, "6831": 9, "4095": 9, "1522": 9, "2088": 9, "0884": 9, "6576": 9, "4476": 9, "9476": 9, "1846": 9, "1274": 9, "1398": 9, "1387": 9, "7131": 9, "4774": 9, "9635": 9, "1421": 9, "1764": 9, "1231": 9, "1000": 9, "8147": 9, "9625": 9, "5978": 9, "1951": 9, "5523": 9, "5688": 9, "4593": 9, "1320": 9, "5370": 9, "2397": 9, "5384": 9, "9173": 9, "0032": 9, "3581": 9, "7798": 9, "7158": 9, "3740": 9, "2443": 9, "0226": 9, "1517": 9, "9220": 9, "6931": 9, "3247": 9, "1020": 9, "1435": 9, "3236": 9, "4580": 9, "4472": 9, "8300": 9, "0048": 9, "9875": 9, "8244": 9, "2333": 9, "0859": 9, "0233": 9, "3913": 9, "4840": 9, "5027": 9, "7579": 9, "1093": 9, "7935": 9, "6656": 9, "2184": 9, "6026": 9, "5975": 9, "4540": 9, "1602": 9, "4627": 9, "2484": 9, "5047": 9, "8991": 9, "0318": 9, "3719": 9, "7886": 9, "7232": 9, "3629": 9, "2476": 9, "0712": 9, "9695": 9, "8225": 9, "1439": 9, "0549": 9, "0302": 9, "3911": 9, "4824": 9, "5963": 9, "7986": 9, "1177": 9, "9870": 9, "8049": 9, "3040": 9, "1078": 9, "0759": 9, "3823": 9, "4802": 9, "4320": 9, "7366": 9, "0866": 9, "1636": 9, "7411": 9, "0422": 9, "1777": 9, "1802": 9, "0324": 9, "2489": 9, "8250": 9, "1883": 9, "7675": 9, "0207": 9, "1558": 9, "1741": 9, "0804": 9, "2452": 9, "8210": 9, "7722": 9, "9789": 9, "7088": 9, "2348": 9, "6285": 9, "6092": 9, "4481": 9, "1822": 9, "4267": 9, "2450": 9, "9848": 9, "8582": 9, "2405": 9, "0897": 9, "0106": 9, "4332": 9, "4806": 9, "4371": 9, "6114": 9, "1181": 9, "9357": 9, "7106": 9, "3277": 9, "1053": 9, "1368": 9, "3304": 9, "4625": 9, "4428": 9, "8233": 9, "0183": 9, "6962": 9, "8390": 9, "2857": 9, "7021": 9, "6457": 9, "4259": 9, "2402": 9, "2994": 9, "2247": 9, "7499": 9, "7503": 9, "2507": 9, "6524": 9, "6203": 9, "4417": 9, "2025": 9, "3905": 9, "2401": 9, "9721": 9, "8395": 9, "2860": 9, "1021": 9, "0473": 9, "4325": 9, "4734": 9, "3775": 9, "5646": 9, "0941": 9, "9385": 9, "7384": 9, "2538": 9, "0830": 9, "0781": 9, "3460": 9, "4669": 9, "5096": 9, "8279": 9, "0459": 9, "7020": 9, "9686": 9, "8306": 9, "2822": 9, "6983": 9, "6446": 9, "4276": 9, "2354": 9, "3047": 9, "2272": 9, "1183": 9, "1285": 9, "0047": 9, "1917": 9, "3009": 9, "8719": 9, "3402": 9, "8726": 9, "0295": 9, "2799": 9, "3119": 9, "8748": 9, "4526": 9, "9900": 9, "8230": 9, "2624": 9, "0955": 9, "0416": 9, "3924": 9, "4832": 9, "4688": 9, "7369": 9, "1039": 9, "9658": 9, "8567": 9, "2419": 9, "0118": 9, "4502": 9, "4728": 9, "4017": 9, "5295": 9, "1062": 9, "5750": 9, "8843": 9, "9719": 9, "3458": 9, "7436": 9, "6487": 9, "3888": 9, "3188": 9, "2243": 9, "1545": 9, "6600": 9, "9738": 9, "8701": 9, "2992": 9, "7255": 9, "6843": 9, "4125": 9, "1466": 9, "2133": 9, "9730": 9, "7525": 9, "3957": 9, "1334": 9, "1575": 9, "3531": 9, "3557": 9, "7493": 9, "0399": 9, "9664": 9, "9058": 9, "1117": 9, "0483": 9, "0916": 9, "4819": 9, "4789": 9, "5115": 9, "5184": 9, "1524": 9, "5385": 9, "8532": 9, "9970": 9, "3594": 9, "7438": 9, "6449": 9, "3770": 9, "3313": 9, "2067": 9, "1278": 9, "5272": 9, "9105": 9, "0178": 9, "3644": 9, "7855": 9, "7166": 9, "3706": 9, "2537": 9, "0294": 9, "1460": 9}, "objects": {"fatez": [[2, 0, 1, "", "Launch"]], "fatez.Launch": [[2, 1, 1, "", "__init__"]], "fatez.model.transformer": [[3, 0, 1, "", "Encoder"]], "fatez.model.transformer.Encoder": [[3, 1, 1, "", "__init__"]], "fatez.test": [[4, 0, 1, "", "Faker"]], "fatez.test.Faker": [[4, 1, 1, "", "__init__"]]}, "objtypes": {"0": "py:class", "1": "py:method"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"]}, "titleterms": {"api": 0, "refer": 0, "test": [0, 4, 5, 7], "action": 0, "model": [0, 3, 7, 8, 9], "exampl": 1, "fatez": [2, 3, 4, 7, 8, 9], "launch": 2, "transform": 3, "encod": [3, 7], "faker": 4, "welcom": 5, "document": 5, "page": 5, "instal": 5, "content": 5, "you": 6, "need": 6, "titl": 6, "here": 6, "cluster": 7, "initi": 7, "first": [7, 8, 9], "get": 7, "fake": [7, 8, 9], "dataset": 7, "process": 7, "origin": 7, "data": [7, 8, 9], "set": 7, "fit": 7, "reset": 7, "representaion": 7, "explain": 8, "build": [8, 9], "make": [8, 9], "some": [8, 9], "now": 8, "we": [8, 9], "perform": 8, "pre": 8, "train": [8, 9], "label": 8, "Then": [8, 9], "can": 8, "go": 8, "fine": 8, "tune": [8, 9], "part": [8, 9], "class": 8, "To": 8, "multiom": 9, "pertub": 9, "effect": 9, "predict": 9, "The": 9, "architectur": 9, "similar": 9, "pretrain": 9, "howev": 9, "littel": 9, "bit": 9, "differ": 9, "In": 9, "case": 9, "unlabel": 9, "which": 9, "doe": 9, "have": 9, "result": 9, "shall": 9, "just": 9, "us": 9, "worker": 9, "object": 9}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 56}})